<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>50-Category Symptom Checker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap');

    body {
      font-family: 'JetBrains Mono', monospace;
      background: linear-gradient(135deg, #ff00a0, #9b4dff, #0076ff);
      color: #e0e6f1;
      margin: 0;
      padding: 30px 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      user-select: none;
    }

    h1 {
      font-size: 2.8rem;
      margin-bottom: 25px;
      text-align: center;
      color: #61dafb;
      text-shadow: 0 0 10px #61dafbaa;
      user-select: text;
      letter-spacing: 0.06em;
    }

    .stage {
      background: rgba(33, 37, 42, 0.9);
      border-radius: 18px;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.7);
      width: 100%;
      max-width: 900px;
      padding: 30px 40px;
      box-sizing: border-box;
      color: #abb2bf;
      user-select: text;
      position: relative;
      overflow: hidden;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .stage:not(.active) {
      pointer-events: none;
      opacity: 0;
      transform: translateY(30px);
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
    }

    .stage.active {
      pointer-events: auto;
      opacity: 1;
      transform: translateY(0);
      position: relative;
    }

    .stage h2 {
      margin-top: 0;
      color: #50fa7b;
      text-shadow: 0 0 6px #50fa7baa;
      font-weight: 700;
      font-size: 1.8rem;
      user-select: text;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .stage h2 svg {
      width: 28px;
      height: 28px;
      stroke: #50fa7b;
      stroke-width: 2.5;
      fill: none;
    }

    form {
      display: flex;
      flex-wrap: wrap;
      gap: 16px 16px;
      justify-content: center;
    }

    /* Make all labels same size & layout */
    label {
      cursor: pointer;
      user-select: none;
      background: #282c34;
      padding: 10px 14px;
      border-radius: 12px;
      width: 30%;
      min-width: 240px;  /* fix minimum width for consistency */
      box-sizing: border-box;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      color: #abb2bf;
      font-weight: 500;
      box-shadow: inset 0 0 6px #0008;
      user-select: none;
    }

    label:hover {
      background-color: #3a3f4a;
      box-shadow: 0 0 12px #50fa7bcc;
    }

    label input[type="checkbox"] {
      accent-color: #50fa7b;
      width: 20px;
      height: 20px;
      cursor: pointer;
      flex-shrink: 0;
      filter: drop-shadow(0 0 0.3px #50fa7b);
      transition: filter 0.3s ease;
      user-select: none;
    }

    label input[type="checkbox"]:hover {
      filter: drop-shadow(0 0 2px #50fa7b);
    }

    /* Icon container */
    .icon {
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 26px;
      height: 26px;
      stroke-width: 2;
      stroke-linejoin: round;
      stroke-linecap: round;
    }

    .icon.category svg {
      stroke: #50fa7b;
      fill: none;
    }

    .icon.symptom svg {
      stroke: #8be9fd;
      fill: none;
    }

    .icon.check svg {
      stroke: #ff79c6;
      fill: none;
    }

    button {
      display: block;
      margin: 30px auto 0;
      background: #50fa7b;
      color: #0f0f0f;
      border: none;
      padding: 14px 30px;
      font-size: 1.1rem;
      font-weight: 700;
      border-radius: 14px;
      cursor: pointer;
      box-shadow: 0 0 15px #50fa7b88;
      transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      user-select: none;
      text-shadow: none;
      width: 180px;
      text-align: center;
    }

    button:hover {
      background: #38d470;
      box-shadow: 0 0 30px #38d470bb;
      transform: scale(1.1);
    }

    .results {
      background: rgba(40, 44, 52, 0.95);
      border-radius: 16px;
      padding: 25px 30px;
      max-width: 900px;
      margin-top: 40px;
      box-shadow: 0 0 28px #50fa7bcc;
      color: #d0d6e4;
      display: none;
      user-select: text;
    }

    .results.active {
      display: block;
      animation: fadeInUp 0.7s ease forwards;
    }

    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .condition {
      margin-bottom: 22px;
      border-bottom: 1px solid #3c4048;
      padding-bottom: 18px;
    }

    .condition h3 {
      margin: 0 0 10px;
      color: #8be9fd;
      font-weight: 700;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .condition h3 svg {
      width: 20px;
      height: 20px;
    }

    .condition p {
      margin: 4px 0;
      color: #cfd6e4cc;
      font-size: 1rem;
      line-height: 1.4;
    }

    /* Responsive */
    @media (max-width: 720px) {
      label {
        width: 48%;
        min-width: unset;
      }
      button {
        width: 100%;
      }
    }

    @media (max-width: 420px) {
      label {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>Symptom Checker (50 Real Categories)</h1>

  <section class="stage active" id="stage-categories" aria-label="Step 1: Select Symptom Categories">
    <h2>
      <!-- Categories icon -->
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 6v6l4 2" />
      </svg>
      Step 1: Select Symptom Categories
    </h2>
    <form id="categoryForm" aria-describedby="category-instruction">
      <div class="categories" id="category-list" role="list"></div>
      <button type="button" id="toSymptoms" aria-label="Go to detailed symptoms">Next â†’ Detailed Symptoms</button>
    </form>
  </section>

  <section class="stage" id="stage-symptoms" aria-label="Step 2: Select Detailed Symptoms">
    <h2>
      <!-- Symptoms icon -->
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M12 3v18M3 12h18" />
      </svg>
      Step 2: Select Detailed Symptoms
    </h2>
    <form id="symptomForm" aria-describedby="symptom-instruction">
      <div class="symptoms" id="symptom-list" role="list"></div>
      <button type="submit" aria-label="Check possible conditions">Check Conditions</button>
    </form>
  </section>

  <section class="results" id="results" aria-live="polite" aria-atomic="true">
    <h2>Possible Conditions</h2>
    <div id="condition-results"></div>
  </section>

  <script>
    // Categories & example symptoms
    const symptomCategories = {
      "General":               ["Fever", "Fatigue", "Weight loss", "Night sweats"],
      "Head & Neck":           ["Headache", "Dizziness", "Neck stiffness", "Swollen glands"],
      "Ophthalmology":         ["Blurred vision", "Eye pain", "Red eyes", "Double vision"],
      "Otolaryngology":        ["Hoarseness", "Earache", "Tinnitus", "Nosebleed"],
      "Respiratory":           ["Cough", "Wheezing", "Shortness of breath", "Chest tightness"],
      "Cardiovascular":        ["Chest pain", "Palpitations", "Sweating", "Lightheadedness"],
      "Gastrointestinal":      ["Abdominal cramp", "Heartburn", "Nausea", "Diarrhea"],
      "Hepatic":               ["Jaundice", "Abdominal swelling", "Dark urine", "Itchy skin"],
      "Renal/Urinary":         ["Dysuria", "Frequency", "Hematuria", "Urgency"],
      "Reproductive":          ["Pelvic pain", "Vaginal bleeding", "Erectile dysfunction", "Breast tenderness"],
      "Neurology":             ["Seizures", "Tremor", "Numbness", "Memory loss"],
      "Psychiatric":           ["Anxiety", "Depression", "Insomnia", "Mood swings"],
      "Endocrine":             ["Excessive thirst", "Heat intolerance", "Weight gain", "Hair loss"],
      "Hematology":            ["Easy bruising", "Bleeding gums", "Anemia", "Swollen lymph nodes"],
      "Infectious Disease":    ["Rash", "Chills", "Night sweats", "Cough with sputum"],
      "Allergy/Immunology":    ["Itching", "Hives", "Swelling", "Runny nose"],
      "Dermatology":           ["Rash", "Itching", "Blisters", "Dry skin"],
      "Rheumatology":          ["Joint pain", "Stiffness", "Swelling", "Warmth"],
      "Orthopedics":           ["Back pain", "Joint instability", "Crepitus", "Limited range of motion"],
      "Pain Management":       ["Chronic pain", "Sharp pain", "Burning pain", "Referred pain"],
      "Dental":                ["Toothache", "Gum bleeding", "Mouth ulcers", "Jaw pain"],
      "Endoscopy/GI":          ["Nausea", "Vomiting", "GI bleeding", "Difficulty swallowing"],
      "Pediatrics":            ["Fussiness", "Poor feeding", "Failure to thrive", "Diaper rash"],
      "Geriatrics":            ["Impaired mobility", "Urinary incontinence", "Memory issues", "Frailty"],
      "Ob/Gyn":                ["Amenorrhea", "Dysmenorrhea", "Vaginal discharge", "Hot flashes"],
      "Neonatal":              ["Respiratory distress", "Jaundice", "Feeding difficulty", "Hypothermia"],
      "Trauma":                ["Bruising", "Fracture pain", "Bleeding", "Concussion"],
      "Toxicology":            ["Confusion", "Nausea", "Seizures", "Respiratory depression"],
      "Oncology":              ["Unexplained weight loss", "Night sweats", "Lumps", "Fatigue"],
      "Infectious Respiratory": ["Fever", "Cough", "Sore throat", "Runny nose"],
      "Cardiac Arrhythmia":     ["Palpitations", "Dizziness", "Syncope", "Chest discomfort"],
      "Metabolic":             ["Polyuria", "Polydipsia", "Polyphagia", "Weight changes"],
      "Nutritional":           ["Hair loss", "Brittle nails", "Muscle cramps", "Fatigue"],
      "Environmental":         ["Headache", "Eye irritation", "Skin rash", "Shortness of breath"],
      "Sleep Disorders":       ["Insomnia", "Excessive daytime sleepiness", "Snoring", "Restless legs"],
      "Vision Disorders":      ["Blurred vision", "Floaters", "Eye pain", "Vision loss"],
      "Hearing Disorders":     ["Hearing loss", "Tinnitus", "Ear fullness", "Ear pain"],
      "Injury":                ["Swelling", "Pain", "Bruising", "Limited movement"],
      "Infectious GI":         ["Diarrhea", "Vomiting", "Abdominal pain", "Fever"],
      "Neuropathic Pain":      ["Burning pain", "Tingling", "Numbness", "Allodynia"],
      "Vascular":              ["Leg swelling", "Varicose veins", "Claudication", "Ulcers"],
      "Immunocompromise":      ["Frequent infections", "Fever", "Weight loss", "Night sweats"],
      "Systemic":              ["Fever", "Malaise", "Arthralgia", "Myalgia"],
      "Dental Infections":     ["Tooth pain", "Swollen gums", "Pus drainage", "Fever"],
      "ENT Infections":        ["Sore throat", "Ear pain", "Nose congestion", "Fever"],
      "Chronic Conditions":    ["Fatigue", "Chronic pain", "Sleep disturbance", "Weight change"]
    };

    // Minimal demo conditions
    const diseases = [
      { name: 'Condition Alpha', symptoms: ['Fever', 'Cough'], recommendation: 'Rest & hydrate.' },
      { name: 'Condition Beta',  symptoms: ['Chest pain', 'Shortness of breath'], recommendation: 'Seek urgent care.' },
      { name: 'Condition Gamma', symptoms: ['Headache', 'Dizziness'], recommendation: 'Rest in dark room.' }
    ];

    const maxResults = 3;

    // Icons for categories & symptoms (simple SVGs)
    function getIcon(type) {
      if(type === 'category') {
        return `
          <svg viewBox="0 0 24 24" width="20" height="20" stroke="#50fa7b" stroke-width="2" fill="none" aria-hidden="true" focusable="false">
            <circle cx="12" cy="12" r="10" />
            <path d="M8 12l4 4 4-8" />
          </svg>`;
      }
      if(type === 'symptom') {
        return `
          <svg viewBox="0 0 24 24" width="20" height="20" stroke="#8be9fd" stroke-width="2" fill="none" aria-hidden="true" focusable="false">
            <circle cx="12" cy="12" r="8" />
            <path d="M9 12l2 2 4-4" />
          </svg>`;
      }
      if(type === 'check') {
        return `
          <svg viewBox="0 0 24 24" width="22" height="22" stroke="#ff79c6" stroke-width="3" fill="none" aria-hidden="true" focusable="false">
            <polyline points="20 6 9 17 4 12" />
          </svg>`;
      }
    }

    // Render category checkboxes
    const catDiv = document.getElementById('category-list');
    Object.keys(symptomCategories).forEach(cat => {
      const id = 'cat-' + cat.replace(/\s+/g, '-');
      catDiv.insertAdjacentHTML('beforeend', `
        <label for="${id}">
          <span class="icon category">${getIcon('category')}</span>
          ${cat}
          <input type="checkbox" name="category" value="${cat}" id="${id}">
        </label>
      `);
    });

    // Next button event: show symptom checkboxes
    document.getElementById('toSymptoms').onclick = () => {
      const selected = Array.from(document.querySelectorAll('input[name="category"]:checked')).map(cb => cb.value);
      if (!selected.length) {
        alert('Please select at least one category.');
        return;
      }
      const symDiv = document.getElementById('symptom-list');
      symDiv.innerHTML = '';
      selected.forEach(cat => {
        symDiv.insertAdjacentHTML('beforeend', `<h3 style="color:#50fa7b; margin-top: 20px;">${cat}</h3>`);
        symptomCategories[cat].forEach(sym => {
          const id = `sym-${cat}-${sym}`.replace(/[^\w]/g, '-');
          symDiv.insertAdjacentHTML('beforeend', `
            <label for="${id}">
              <span class="icon symptom">${getIcon('symptom')}</span>
              ${sym}
              <input type="checkbox" name="symptom" value="${sym}" id="${id}">
            </label>
          `);
        });
      });

      // Transition stages
      document.getElementById('stage-categories').classList.remove('active');
      document.getElementById('stage-symptoms').classList.add('active');
      document.getElementById('results').classList.remove('active');
      window.scrollTo({top:0, behavior:'smooth'});
    };

    // On symptoms submit: find matching conditions
    document.getElementById('symptomForm').onsubmit = e => {
      e.preventDefault();
      const checked = Array.from(document.querySelectorAll('input[name="symptom"]:checked')).map(cb => cb.value);

      const scored = diseases.map(d => ({
        ...d,
        matchCount: d.symptoms.filter(s => checked.includes(s)).length
      }));

      const matches = scored.filter(d => d.matchCount > 0)
        .sort((a, b) => b.matchCount - a.matchCount)
        .slice(0, maxResults);

      const resDiv = document.getElementById('results');
      const conDiv = document.getElementById('condition-results');
      conDiv.innerHTML = '';

      if (!matches.length) {
        conDiv.innerHTML = `<p>No conditions matched.</p>`;
      } else {
        matches.forEach(d => {
          const pct = Math.round(100 * d.matchCount / d.symptoms.length);
          const matchedSymptoms = d.symptoms.filter(s => checked.includes(s));
          conDiv.insertAdjacentHTML('beforeend', `
            <div class="condition">
              <h3>${getIcon('check')} ${d.name} (${pct}% match)</h3>
              <p><strong>Matched:</strong> ${matchedSymptoms.join(', ')}</p>
              <p><strong>Recommendation:</strong> ${d.recommendation}</p>
            </div>
          `);
        });
      }

      resDiv.classList.add('active');
      resDiv.scrollIntoView({ behavior: 'smooth' });
    };
  </script>
</body>
</html>
